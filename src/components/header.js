import React from "react"
import { Link } from "gatsby"
import styled from 'styled-components'

import responsive from '../styles/responsive'

const Header = ({location}) => {

    const rootPath = `${__PATH_PREFIX__}/`

    const logoLink = (
        <Link to="/">
            <svg width="230" height="24" viewBox="0 0 190 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <title>Jamstack WordPress</title>
                <path d="M6.30176 1.20312H8.93848V10.0625C8.93848 10.877 8.75684 11.5977 8.39355 12.2246C8.03613 12.8457 7.5293 13.3262 6.87305 13.666C6.2168 14.0059 5.47559 14.1758 4.64941 14.1758C3.2959 14.1758 2.24121 13.833 1.48535 13.1475C0.729492 12.4561 0.351562 11.4805 0.351562 10.2207H3.00586C3.00586 10.8477 3.1377 11.3105 3.40137 11.6094C3.66504 11.9082 4.08105 12.0576 4.64941 12.0576C5.15332 12.0576 5.55469 11.8848 5.85352 11.5391C6.15234 11.1934 6.30176 10.7012 6.30176 10.0625V1.20312ZM17.621 14C17.5038 13.7715 17.4189 13.4873 17.3661 13.1475C16.7509 13.833 15.9511 14.1758 14.9667 14.1758C14.0351 14.1758 13.2616 13.9062 12.6464 13.3672C12.037 12.8281 11.7323 12.1484 11.7323 11.3281C11.7323 10.3203 12.1044 9.54688 12.8486 9.00781C13.5986 8.46875 14.6796 8.19629 16.0917 8.19043H17.2607V7.64551C17.2607 7.20605 17.1464 6.85449 16.9179 6.59082C16.6952 6.32715 16.3407 6.19531 15.8544 6.19531C15.4267 6.19531 15.0898 6.29785 14.8437 6.50293C14.6034 6.70801 14.4833 6.98926 14.4833 7.34668H11.9433C11.9433 6.7959 12.1132 6.28613 12.453 5.81738C12.7929 5.34863 13.2734 4.98242 13.8945 4.71875C14.5155 4.44922 15.2128 4.31445 15.9862 4.31445C17.1581 4.31445 18.0868 4.61035 18.7724 5.20215C19.4638 5.78809 19.8095 6.61426 19.8095 7.68066V11.8027C19.8154 12.7051 19.9413 13.3877 20.1874 13.8506V14H17.621ZM15.5204 12.2334C15.8954 12.2334 16.2411 12.1514 16.5575 11.9873C16.8739 11.8174 17.1083 11.5918 17.2607 11.3105V9.67578H16.3114C15.04 9.67578 14.3632 10.1152 14.2812 10.9941L14.2724 11.1436C14.2724 11.46 14.3837 11.7207 14.6064 11.9258C14.829 12.1309 15.1337 12.2334 15.5204 12.2334ZM25.2225 4.49023L25.3016 5.55371C25.9754 4.72754 26.8866 4.31445 28.035 4.31445C29.2596 4.31445 30.1004 4.79785 30.5575 5.76465C31.2254 4.79785 32.1776 4.31445 33.4139 4.31445C34.4452 4.31445 35.2127 4.61621 35.7166 5.21973C36.2205 5.81738 36.4725 6.71973 36.4725 7.92676V14H33.9237V7.93555C33.9237 7.39648 33.8182 7.00391 33.6073 6.75781C33.3963 6.50586 33.0243 6.37988 32.4911 6.37988C31.7293 6.37988 31.202 6.74316 30.909 7.46973L30.9178 14H28.3778V7.94434C28.3778 7.39355 28.2694 6.99512 28.0526 6.74902C27.8358 6.50293 27.4666 6.37988 26.9452 6.37988C26.2245 6.37988 25.703 6.67871 25.3807 7.27637V14H22.8407V4.49023H25.2225ZM44.6629 11.3721C44.6629 11.0615 44.5076 10.8184 44.197 10.6426C43.8923 10.4609 43.4002 10.2998 42.7205 10.1592C40.4588 9.68457 39.3279 8.72363 39.3279 7.27637C39.3279 6.43262 39.6765 5.72949 40.3738 5.16699C41.0769 4.59863 41.9939 4.31445 43.1248 4.31445C44.3318 4.31445 45.2957 4.59863 46.0164 5.16699C46.7429 5.73535 47.1062 6.47363 47.1062 7.38184H44.5662C44.5662 7.01855 44.449 6.71973 44.2146 6.48535C43.9802 6.24512 43.614 6.125 43.116 6.125C42.6882 6.125 42.3572 6.22168 42.1228 6.41504C41.8884 6.6084 41.7713 6.85449 41.7713 7.15332C41.7713 7.43457 41.9031 7.66309 42.1668 7.83887C42.4363 8.00879 42.8875 8.1582 43.5203 8.28711C44.1531 8.41016 44.6863 8.55078 45.1199 8.70898C46.4617 9.20117 47.1326 10.0537 47.1326 11.2666C47.1326 12.1338 46.7605 12.8369 46.0164 13.376C45.2722 13.9092 44.3113 14.1758 43.1336 14.1758C42.3367 14.1758 41.6277 14.0352 41.0066 13.7539C40.3914 13.4668 39.908 13.0771 39.5564 12.585C39.2048 12.0869 39.0291 11.5508 39.0291 10.9766H41.4373C41.4607 11.4277 41.6277 11.7734 41.9382 12.0137C42.2488 12.2539 42.6648 12.374 43.1863 12.374C43.6726 12.374 44.0388 12.2832 44.2849 12.1016C44.5369 11.9141 44.6629 11.6709 44.6629 11.3721ZM52.8971 2.15234V4.49023H54.5231V6.35352H52.8971V11.0996C52.8971 11.4512 52.9645 11.7031 53.0993 11.8555C53.2341 12.0078 53.4919 12.084 53.8727 12.084C54.154 12.084 54.403 12.0635 54.6198 12.0225V13.9473C54.1218 14.0996 53.6091 14.1758 53.0817 14.1758C51.3005 14.1758 50.3923 13.2764 50.3571 11.4775V6.35352H48.9684V4.49023H50.3571V2.15234H52.8971ZM62.5289 14C62.4117 13.7715 62.3268 13.4873 62.274 13.1475C61.6588 13.833 60.859 14.1758 59.8746 14.1758C58.943 14.1758 58.1695 13.9062 57.5543 13.3672C56.9449 12.8281 56.6402 12.1484 56.6402 11.3281C56.6402 10.3203 57.0123 9.54688 57.7564 9.00781C58.5064 8.46875 59.5875 8.19629 60.9996 8.19043H62.1686V7.64551C62.1686 7.20605 62.0543 6.85449 61.8258 6.59082C61.6031 6.32715 61.2486 6.19531 60.7623 6.19531C60.3346 6.19531 59.9977 6.29785 59.7516 6.50293C59.5113 6.70801 59.3912 6.98926 59.3912 7.34668H56.8512C56.8512 6.7959 57.0211 6.28613 57.3609 5.81738C57.7008 5.34863 58.1813 4.98242 58.8023 4.71875C59.4234 4.44922 60.1207 4.31445 60.8941 4.31445C62.066 4.31445 62.9947 4.61035 63.6803 5.20215C64.3717 5.78809 64.7174 6.61426 64.7174 7.68066V11.8027C64.7232 12.7051 64.8492 13.3877 65.0953 13.8506V14H62.5289ZM60.4283 12.2334C60.8033 12.2334 61.149 12.1514 61.4654 11.9873C61.7818 11.8174 62.0162 11.5918 62.1686 11.3105V9.67578H61.2193C59.9479 9.67578 59.2711 10.1152 59.1891 10.9941L59.1803 11.1436C59.1803 11.46 59.2916 11.7207 59.5143 11.9258C59.7369 12.1309 60.0416 12.2334 60.4283 12.2334ZM71.7036 12.1279C72.1724 12.1279 72.5532 11.999 72.8462 11.7412C73.1392 11.4834 73.2915 11.1406 73.3032 10.7129H75.6851C75.6792 11.3574 75.5034 11.9492 75.1577 12.4883C74.812 13.0215 74.3374 13.4375 73.7339 13.7363C73.1363 14.0293 72.4741 14.1758 71.7476 14.1758C70.3882 14.1758 69.3159 13.7451 68.5308 12.8838C67.7456 12.0166 67.3531 10.8213 67.3531 9.29785V9.13086C67.3531 7.66602 67.7427 6.49707 68.522 5.62402C69.3013 4.75098 70.3706 4.31445 71.73 4.31445C72.9195 4.31445 73.8716 4.6543 74.5864 5.33398C75.3072 6.00781 75.6734 6.90723 75.6851 8.03223H73.3032C73.2915 7.54004 73.1392 7.1416 72.8462 6.83691C72.5532 6.52637 72.1665 6.37109 71.6861 6.37109C71.0943 6.37109 70.646 6.58789 70.3413 7.02148C70.0425 7.44922 69.8931 8.14648 69.8931 9.11328V9.37695C69.8931 10.3555 70.0425 11.0586 70.3413 11.4863C70.6402 11.9141 71.0943 12.1279 71.7036 12.1279ZM81.6694 10.1855L80.7553 11.0996V14H78.2153V0.5H80.7553V7.97949L81.2475 7.34668L83.6821 4.49023H86.7319L83.2953 8.4541L87.0307 14H84.1127L81.6694 10.1855ZM104.607 10.3086L106.329 1.20312H108.957L106.118 14H103.464L101.381 5.43945L99.2981 14H96.6438L93.805 1.20312H96.4329L98.1643 10.291L100.274 1.20312H102.506L104.607 10.3086ZM110.626 9.15723C110.626 8.21387 110.808 7.37305 111.171 6.63477C111.534 5.89648 112.056 5.3252 112.736 4.9209C113.421 4.5166 114.215 4.31445 115.117 4.31445C116.401 4.31445 117.446 4.70703 118.255 5.49219C119.07 6.27734 119.524 7.34375 119.617 8.69141L119.635 9.3418C119.635 10.8008 119.228 11.9727 118.413 12.8574C117.599 13.7363 116.506 14.1758 115.135 14.1758C113.764 14.1758 112.668 13.7363 111.848 12.8574C111.033 11.9785 110.626 10.7832 110.626 9.27148V9.15723ZM113.166 9.3418C113.166 10.2441 113.336 10.9355 113.676 11.416C114.016 11.8906 114.502 12.1279 115.135 12.1279C115.75 12.1279 116.231 11.8936 116.576 11.4248C116.922 10.9502 117.095 10.1943 117.095 9.15723C117.095 8.27246 116.922 7.58691 116.576 7.10059C116.231 6.61426 115.744 6.37109 115.117 6.37109C114.496 6.37109 114.016 6.61426 113.676 7.10059C113.336 7.58105 113.166 8.32812 113.166 9.3418ZM127.623 6.87207C127.277 6.8252 126.973 6.80176 126.709 6.80176C125.748 6.80176 125.118 7.12695 124.819 7.77734V14H122.279V4.49023H124.679L124.749 5.62402C125.259 4.75098 125.965 4.31445 126.867 4.31445C127.149 4.31445 127.412 4.35254 127.658 4.42871L127.623 6.87207ZM129.362 9.1748C129.362 7.69238 129.693 6.51172 130.356 5.63281C131.023 4.75391 131.935 4.31445 133.089 4.31445C134.015 4.31445 134.779 4.66016 135.383 5.35156V0.5H137.932V14H135.638L135.515 12.9893C134.882 13.7803 134.067 14.1758 133.071 14.1758C131.952 14.1758 131.053 13.7363 130.373 12.8574C129.699 11.9727 129.362 10.7451 129.362 9.1748ZM131.902 9.35938C131.902 10.25 132.058 10.9326 132.368 11.4072C132.679 11.8818 133.13 12.1191 133.722 12.1191C134.507 12.1191 135.061 11.7881 135.383 11.126V7.37305C135.066 6.71094 134.519 6.37988 133.739 6.37988C132.515 6.37988 131.902 7.37305 131.902 9.35938ZM143.784 9.49121V14H141.147V1.20312H146.14C147.101 1.20312 147.944 1.37891 148.671 1.73047C149.403 2.08203 149.966 2.58301 150.358 3.2334C150.751 3.87793 150.947 4.61328 150.947 5.43945C150.947 6.69336 150.517 7.68359 149.655 8.41016C148.8 9.13086 147.613 9.49121 146.096 9.49121H143.784ZM143.784 7.35547H146.14C146.837 7.35547 147.367 7.19141 147.73 6.86328C148.1 6.53516 148.284 6.06641 148.284 5.45703C148.284 4.83008 148.1 4.32324 147.73 3.93652C147.361 3.5498 146.852 3.35059 146.201 3.33887H143.784V7.35547ZM159.023 6.87207C158.678 6.8252 158.373 6.80176 158.109 6.80176C157.148 6.80176 156.518 7.12695 156.22 7.77734V14H153.68V4.49023H156.079L156.149 5.62402C156.659 4.75098 157.365 4.31445 158.267 4.31445C158.549 4.31445 158.812 4.35254 159.058 4.42871L159.023 6.87207ZM165.535 14.1758C164.14 14.1758 163.004 13.748 162.125 12.8926C161.252 12.0371 160.815 10.8975 160.815 9.47363V9.22754C160.815 8.27246 161 7.41992 161.369 6.66992C161.738 5.91406 162.26 5.33398 162.933 4.92969C163.613 4.51953 164.387 4.31445 165.254 4.31445C166.554 4.31445 167.577 4.72461 168.321 5.54492C169.071 6.36523 169.446 7.52832 169.446 9.03418V10.0713H163.39C163.472 10.6924 163.719 11.1904 164.129 11.5654C164.545 11.9404 165.069 12.1279 165.702 12.1279C166.68 12.1279 167.445 11.7734 167.996 11.0645L169.244 12.4619C168.863 13.001 168.347 13.4229 167.697 13.7275C167.047 14.0264 166.326 14.1758 165.535 14.1758ZM165.245 6.37109C164.741 6.37109 164.331 6.54102 164.014 6.88086C163.704 7.2207 163.505 7.70703 163.417 8.33984H166.95V8.1377C166.938 7.5752 166.786 7.1416 166.493 6.83691C166.2 6.52637 165.784 6.37109 165.245 6.37109ZM177.127 11.3721C177.127 11.0615 176.971 10.8184 176.661 10.6426C176.356 10.4609 175.864 10.2998 175.184 10.1592C172.923 9.68457 171.792 8.72363 171.792 7.27637C171.792 6.43262 172.14 5.72949 172.838 5.16699C173.541 4.59863 174.458 4.31445 175.589 4.31445C176.796 4.31445 177.759 4.59863 178.48 5.16699C179.207 5.73535 179.57 6.47363 179.57 7.38184H177.03C177.03 7.01855 176.913 6.71973 176.678 6.48535C176.444 6.24512 176.078 6.125 175.58 6.125C175.152 6.125 174.821 6.22168 174.587 6.41504C174.352 6.6084 174.235 6.85449 174.235 7.15332C174.235 7.43457 174.367 7.66309 174.631 7.83887C174.9 8.00879 175.351 8.1582 175.984 8.28711C176.617 8.41016 177.15 8.55078 177.584 8.70898C178.926 9.20117 179.596 10.0537 179.596 11.2666C179.596 12.1338 179.224 12.8369 178.48 13.376C177.736 13.9092 176.775 14.1758 175.597 14.1758C174.801 14.1758 174.092 14.0352 173.47 13.7539C172.855 13.4668 172.372 13.0771 172.02 12.585C171.669 12.0869 171.493 11.5508 171.493 10.9766H173.901C173.925 11.4277 174.092 11.7734 174.402 12.0137C174.713 12.2539 175.129 12.374 175.65 12.374C176.136 12.374 176.503 12.2832 176.749 12.1016C177.001 11.9141 177.127 11.6709 177.127 11.3721ZM187.47 11.3721C187.47 11.0615 187.315 10.8184 187.005 10.6426C186.7 10.4609 186.208 10.2998 185.528 10.1592C183.266 9.68457 182.135 8.72363 182.135 7.27637C182.135 6.43262 182.484 5.72949 183.181 5.16699C183.884 4.59863 184.801 4.31445 185.932 4.31445C187.139 4.31445 188.103 4.59863 188.824 5.16699C189.55 5.73535 189.914 6.47363 189.914 7.38184H187.374C187.374 7.01855 187.256 6.71973 187.022 6.48535C186.788 6.24512 186.422 6.125 185.923 6.125C185.496 6.125 185.165 6.22168 184.93 6.41504C184.696 6.6084 184.579 6.85449 184.579 7.15332C184.579 7.43457 184.711 7.66309 184.974 7.83887C185.244 8.00879 185.695 8.1582 186.328 8.28711C186.961 8.41016 187.494 8.55078 187.927 8.70898C189.269 9.20117 189.94 10.0537 189.94 11.2666C189.94 12.1338 189.568 12.8369 188.824 13.376C188.08 13.9092 187.119 14.1758 185.941 14.1758C185.144 14.1758 184.435 14.0352 183.814 13.7539C183.199 13.4668 182.715 13.0771 182.364 12.585C182.012 12.0869 181.837 11.5508 181.837 10.9766H184.245C184.268 11.4277 184.435 11.7734 184.746 12.0137C185.056 12.2539 185.472 12.374 185.994 12.374C186.48 12.374 186.846 12.2832 187.092 12.1016C187.344 11.9141 187.47 11.6709 187.47 11.3721Z" fill="#1B0C01"/>
            </svg>
        </Link>
    )

    let logo;
    if (location.pathname === rootPath) {
        logo = <LogoTop className="logo">{logoLink}</LogoTop>
    } else {
        logo = <LogoPage className="logo">{logoLink}</LogoPage>
    }

    function hH() {
        let hHeight = document.querySelector('.header-fixed').clientHeight
        document.querySelector('.header').style.height = hHeight + "px"
    }


    return (
        <GlobalHeader className="header">
            <HeaderInner className="header-fixed" ref={hH}>
                {logo}
            </HeaderInner>
        </GlobalHeader>
    )
}

export default Header

const GlobalHeader = styled.header``

const HeaderInner = styled.div`
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 75px;
    background-color: ${props => props.theme.colors.background};
    box-shadow: 0 0 1px rgba(0, 0, 0, 0.6);
    position: fixed;
    top: 0;
    left: 0;
    z-index: 10;
    ${responsive.sm} {
        height: 65px;
    }
`

const LogoTop = styled.h1`
    line-height: 1;
    a:hover {
        opacity: 1;
    }
`

const LogoPage = styled.p`
    line-height: 1;
    a:hover {
        opacity: 1;
    }
`